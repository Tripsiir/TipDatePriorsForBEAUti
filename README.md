# TipDatePriorsForBEAUti

Python script to add tip date sampling support to BEAUti .XML files.

Developed for BEAST 2 v2.4.2.

---

The purpose of this utility is to simplify the process of enabling tip date sampling in BEAST 2. It provides an automated method for embedding the required fields in .XML files that were generated by BEAUti. More specifically, it can specify prior distributions for dated sequences, initialize sample operators for these calibrations and add logger entries for the leaf heights.

This implementation is based on the following guide that is provided on the BEAST 2 website: http://beast2.org/2015/06/09/sampling-tip-dates/.

---

For more info on how to use this script, run: ```python sample-tip-dates-in-BEAUti-xml.py -h```

```
usage: sample-tip-dates-in-BEAUti-xml.py [-h] [-o] [-s] [-d] [-p1] [-p2] [-po]
                                         [-r] [-t] [-e]
                                         inputFile

positional arguments:
  inputFile            The path or name (if located in working directory) of
                       the input BEAUti .xml file.

optional arguments:
  -h, --help           show this help message and exit
  -o , --output        Specifies the name or path of the updated BEAUti .xml
                       file.
  -s , --sequences     A file that specifies the sequences to which date
                       priors should be assigned. Each line should contain
                       exactly one sequence id (default = all dated sequences
                       found in the BEAUti .xml file).
  -d , --priorDist     The prior distribution to be used (default =
                       exponential). Possibilities are: 'exponential',
                       'poisson', 'log-normal', 'gamma', 'inverse-gamma',
                       beta', 'laplace', 'uniform', 'normal' and '1/x'. Please
                       refer to BEAUti for more details on these
                       distributions.
  -p1 , --parameter1   The first parameter (mean, alpha, lambda, mu lower or
                       M) the prior distribution (default = 1).
  -p2 , --parameter2   The second parameter (sigma, S, beta, scale or upper)
                       of the prior distribution (default = 2).
  -po , --parametero   The off-set parameter of the prior distribution
                       (default = 0).
  -r, --realspace      If flag is provided, the mean of the log normal
                       distribution is treated as being in real space, rather
                       than log-transformed space.
  -t , --time          Specifies whether dates are interpreted as 'time before
                       the present' or 'time since the past'.
  -e, --estimate       If flag is provided, all the parameters of the chosen
                       distribution will be estimated.
```
